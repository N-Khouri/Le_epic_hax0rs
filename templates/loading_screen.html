<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> Main Menu </title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script type="application/javascript" src="{{ url_for('static', filename='script/http_cdnjs.cloudflare.com_ajax_libs_socket.io_4.0.1_socket.io.js') }}"
            integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA=="></script>

    <script type="application/javascript" src="{{ url_for('static', filename='script/http_ajax.googleapis.com_ajax_libs_jquery_1.12.4_jquery.js') }}"></script>

    <script type="text/javascript">
        const socket = io();
        const room_id = "{{lobby_name}}";
        socket.emit("create_lobby", room_id);

        socket.emit("wait_to_start_game", room_id);

        function removeStatus(){
            document.getElementById("ready").remove();
            readyCheck(room_id);
        }

        socket.on("ready_status", (data) => {
            document.getElementById("change").innerText = "";
            document.getElementById("change").innerText = data;

        });

        socket.on("remove_status", () => {
            document.getElementById("playerStatus").remove();
        });

    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='script/HeadsTails.js') }}"></script>
</head>
<body>

<button class="coinChoice" id="ready" onclick=removeStatus()> Ready</button>


<a href="main_menu">
    <button id="exitGame" onclick=initiate_disconnection(room_id)> Exit to main menu</button>
</a>



<div class="BasicMenu" id="playerStatus">
    <p>lobby name: {{lobby_name}}</p>
    <p id="change">please wait for other user to join</p>
</div>


<div id="gameContainer"></div>
</body>
</html>